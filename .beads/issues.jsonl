{"id":"bd-11z","title":"Implement spawn emission","description":"Emit from forced_queue first (FIFO), then base_spawn_list via spawn_budget","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:50.229381444Z","created_by":"ubuntu","updated_at":"2026-02-01T12:07:44.854670958Z","closed_at":"2026-02-01T12:07:44.854457810Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-12b","title":"Implement on_enemy_death function","description":"on_enemy_death increments berserker stacks by 5% attack per credited kill","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:30.357299604Z","created_by":"ubuntu","updated_at":"2026-02-01T11:45:19.423632140Z","closed_at":"2026-02-01T11:45:19.423604428Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-12g","title":"Test quick capture task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-01T10:14:18.286030084Z","created_by":"ubuntu","updated_at":"2026-02-01T10:14:34.539441095Z","source_repo":".","deleted_at":"2026-02-01T10:14:34.539420436Z","deleted_by":"ubuntu","delete_reason":"delete","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-141","title":"Create test_shop_odds.lua tests","description":"Test correct odds per wave bracket, probabilities sum to 1.0","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:21.807003462Z","created_by":"ubuntu","updated_at":"2026-02-01T12:50:50.485522989Z","closed_at":"2026-02-01T12:50:50.485492363Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-4","test"]}
{"id":"bd-1472","title":"Fix: CrashReporterTest.DisabledConfigKeepsReporterOff segfault (SIGSEGV)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T01:48:42.044624267Z","created_by":"ubuntu","updated_at":"2026-02-04T02:08:20.146780555Z","closed_at":"2026-02-04T02:08:20.146737115Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-1478","title":"Manual verification: Contact damage works","description":"Verify enemy touching segment deals damage once per 0.5s","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:45.304803606Z","created_by":"ubuntu","updated_at":"2026-02-01T13:08:21.116905320Z","closed_at":"2026-02-01T13:08:21.116875886Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-14eu","title":"Implement synergy display view-model","description":"Show class counts and active synergy bonuses from synergy_state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:24.038138010Z","created_by":"ubuntu","updated_at":"2026-02-01T11:26:16.450729529Z","closed_at":"2026-02-01T11:26:16.450672773Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-14ft","title":"Create test_screens.lua tests","description":"Test required labels present, buttons configured, localization keys used","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:42.492470156Z","created_by":"ubuntu","updated_at":"2026-02-04T01:16:49.689155211Z","closed_at":"2026-02-04T01:16:49.689125466Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","test"]}
{"id":"bd-17f","title":"Implement segment entity spawning","description":"Spawn segment entities tagged SERPENT_SEGMENT with physics bodies","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:55.970967055Z","created_by":"ubuntu","updated_at":"2026-02-01T11:01:02.638589382Z","closed_at":"2026-02-01T11:01:02.638548596Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-17g","title":"Define spawn rate constants","description":"SPAWN_RATE_PER_SEC = 10, MAX_SPAWNS_PER_FRAME = 3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:47.134757475Z","created_by":"ubuntu","updated_at":"2026-02-01T11:21:34.127555565Z","closed_at":"2026-02-01T11:21:34.127521312Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-17hv","title":"Investigate: build/test fail due to missing X11 libs","description":"Local verification failed: CMake configure errors on X11 (X11_X11_INCLUDE_PATH/X11_X11_LIB) during just build-debug-fast and just test. Need guidance on deps or headless build setup for CI/dev env.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-01T10:25:43.017425998Z","created_by":"ubuntu","updated_at":"2026-02-01T10:58:37.140295555Z","closed_at":"2026-02-01T10:35:46.524766130Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":7,"issue_id":"bd-17hv","author":"Joshua Shin","text":"SOLUTION: Install X11 development libraries with: \nsudo apt-get update && sudo apt-get install -y libx11-dev libxrandr-dev libxinerama-dev libxcursor-dev libxi-dev libgl1-mesa-dev\n\nFor headless CI/dev: Use cmake option -DHEADLESS_BUILD=ON or consider xvfb-run for virtual display.\n\nAlternative: Use pkg-config to find X11:\ncmake -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/pkgconfig .\n\nThis resolves X11_X11_INCLUDE_PATH and X11_X11_LIB CMake variables.","created_at":"2026-02-01T10:38:42Z"},{"id":8,"issue_id":"bd-17hv","author":"Joshua Shin","text":"Progress: added Linux X11 dependency guidance to README.md and docs/TROUBLESHOOTING.md (CMake missing X11). Verification: no tests (docs-only). ubs . timed out after 120s; scan started and ran but did not complete in time.","created_at":"2026-02-01T10:39:14Z"},{"id":12,"issue_id":"bd-17hv","author":"Joshua Shin","text":"Progress: installed X11 dev deps (libx11-dev libxrandr-dev libxinerama-dev libxcursor-dev libxi-dev libxext-dev libgl1-mesa-dev). CMake now finds X11 (Found X11: /usr/include). Build proceeds; unit_tests build now fails during gtest discovery due to Tracy invariant TSC check (Tracy Profiler initialization failure: CPU doesn't support invariant TSC). Created new blocker for Tracy check. Build attempts: cmake --build build --target unit_tests timed out twice (10m total) and then failed with Tracy error when linking/running gtest discovery.","created_at":"2026-02-01T10:58:37Z"}]}
{"id":"bd-17y","title":"Implement cleanup phase","description":"Remove dead units from snake_state.segments, prune stale contact_cooldowns","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:45.601995462Z","created_by":"ubuntu","updated_at":"2026-02-01T13:59:33.684947213Z","closed_at":"2026-02-01T13:58:31.705922146Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"],"comments":[{"id":24,"issue_id":"bd-17y","author":"Joshua Shin","text":"Progress: added combat_cleanup_logic module + tests for dead unit removal and contact cooldown pruning. Tests: lua assets/scripts/serpent/tests/test_combat_cleanup_logic.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T13:58:24Z"},{"id":25,"issue_id":"bd-17y","author":"Joshua Shin","text":"Implemented cleanup_logic (remove dead segments + prune contact_cooldowns) and tests test_cleanup_logic.lua. Tests: lua assets/scripts/serpent/tests/test_cleanup_logic.lua. UBS run (UBS_MAX_DIR_SIZE_MB=5000 ubs .) reports repo-wide warnings (exit 1). luacheck not available.","created_at":"2026-02-01T13:59:33Z"}]}
{"id":"bd-18n","title":"Implement knight_block special","description":"Knight takes 20% less damage (damage * 0.8, floor)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:31.090211378Z","created_by":"ubuntu","updated_at":"2026-02-04T01:06:18.782741865Z","closed_at":"2026-02-04T01:06:18.782705738Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-18u","title":"Create serpent_shop.lua module","description":"Create assets/scripts/serpent/serpent_shop.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:35.818546703Z","created_by":"ubuntu","updated_at":"2026-02-01T10:51:29.545634617Z","closed_at":"2026-02-01T10:46:13.596200451Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"],"comments":[{"id":10,"issue_id":"bd-18u","author":"Joshua Shin","text":"Progress: added assets/scripts/serpent/serpent_shop.lua with offer generation, reroll cost logic, buy/sell/can_buy handling, and deterministic tier selection; includes combine_logic hook when available. Verification: lua -e 'require(serpent.serpent_shop)' (pass). ubs . run with UBS_MAX_DIR_SIZE_MB=5000; exit 1 with existing repo-wide findings.","created_at":"2026-02-01T10:51:29Z"}]}
{"id":"bd-18x","title":"Implement apply_level_scaling function","description":"apply_level_scaling(unit_def, level) returns hp_max_base, attack_base using 2^(level-1) formula","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:25.343544190Z","created_by":"ubuntu","updated_at":"2026-02-01T11:39:58.276805386Z","closed_at":"2026-02-01T11:39:58.276768367Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-7"]}
{"id":"bd-1a6","title":"Implement head steering via WASD/arrows","description":"Read input, set head velocity using physics.SetVelocity","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:58.819708896Z","created_by":"ubuntu","updated_at":"2026-02-01T12:23:35.951599503Z","closed_at":"2026-02-01T12:23:35.951554801Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-1b5","title":"Implement healing phase","description":"Emit global regen heals (cursor-driven), then healer targeted heals in order","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:43.134064002Z","created_by":"ubuntu","updated_at":"2026-02-01T11:54:26.297772905Z","closed_at":"2026-02-01T11:54:26.297743129Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-1dc","title":"Create test_units.lua tests","description":"Test 16 entries, 4 per class, IDs match, all numeric fields match expected","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:21.640589754Z","created_by":"ubuntu","updated_at":"2026-02-01T12:51:26.522323910Z","closed_at":"2026-02-01T12:51:26.522296790Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-4","test"]}
{"id":"bd-1dx","title":"Implement build_snapshot function","description":"build_snapshot() returns ContactSnapshot sorted by (enemy_id, instance_id)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:54.162223596Z","created_by":"ubuntu","updated_at":"2026-02-01T12:19:03.329064188Z","closed_at":"2026-02-01T12:19:03.328999046Z","close_reason":"Implemented build_snapshot function - returns ContactSnapshot array sorted by (enemy_id, instance_id) as requested, leverages existing tested sorting logic from get_contact_snapshot with proper null checking and logging","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-1eb","title":"Implement reroll function","description":"reroll(shop_state, rng, unit_defs, shop_odds) regenerates offers, increments cost (2,3,4...)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:37.063026188Z","created_by":"ubuntu","updated_at":"2026-02-01T11:50:26.419890675Z","closed_at":"2026-02-01T11:50:26.419861131Z","close_reason":"Already implemented and tested - reroll with escalating cost working correctly","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"]}
{"id":"bd-1enb","title":"Manual verification: Game over screen","description":"Verify game over triggers at length 0 from combat deaths","status":"blocked","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:53.203351237Z","created_by":"ubuntu","updated_at":"2026-02-04T01:11:34.723334859Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"],"comments":[{"id":35,"issue_id":"bd-1enb","author":"Joshua Shin","text":"BLOCKED: Requires manual in-game verification - cannot be automated. Need human tester to verify game over screen triggers when snake length drops below min_len during combat.","created_at":"2026-02-04T01:11:27Z"}]}
{"id":"bd-1eo","title":"Implement buy function","description":"buy() appends unit to tail, runs combines, updates gold and id_state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:37.819632727Z","created_by":"ubuntu","updated_at":"2026-02-01T10:48:03.587349835Z","closed_at":"2026-02-01T10:48:03.587320642Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"]}
{"id":"bd-1eq","title":"Define Mage units (apprentice, pyromancer, archmage, lich)","description":"4 Mage units across tiers 1-4 with correct stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:20.934068327Z","created_by":"ubuntu","updated_at":"2026-02-01T13:12:46.384494235Z","closed_at":"2026-02-01T13:12:46.384400942Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-4"]}
{"id":"bd-1feg","title":"Create ui/game_over_screen.lua module","description":"Create assets/scripts/serpent/ui/game_over_screen.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:37.420341701Z","created_by":"ubuntu","updated_at":"2026-02-01T12:45:20.837939961Z","closed_at":"2026-02-01T12:45:20.837911919Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","ui"]}
{"id":"bd-1fv","title":"Create test_specials.lua tests","description":"Test all 6 implemented specials with deterministic verification","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:33.158213523Z","created_by":"ubuntu","updated_at":"2026-02-04T01:04:56.735076952Z","closed_at":"2026-02-04T01:04:56.735051764Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-9","test"]}
{"id":"bd-1fx","title":"Implement get_effective_multipliers function","description":"Returns by_instance_id with hp_mult, atk_mult, range_mult, atk_spd_mult, cooldown_period_mult, global_regen_per_sec","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:27.572744950Z","created_by":"ubuntu","updated_at":"2026-02-01T10:41:55.583197715Z","closed_at":"2026-02-01T10:41:55.583168520Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-1fz","title":"Add Serpent.update(dt) call in main.update","description":"In main.update(dt), call Serpent.update(dt) when currentGameState == GAMESTATE.SERPENT","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.644533444Z","created_by":"ubuntu","updated_at":"2026-02-01T10:27:39.328692734Z","closed_at":"2026-02-01T10:27:39.328663770Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"]}
{"id":"bd-1gb","title":"Create auto_attack_logic.lua module","description":"Create assets/scripts/serpent/auto_attack_logic.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:38.836725653Z","created_by":"ubuntu","updated_at":"2026-02-01T11:51:39.738770720Z","closed_at":"2026-02-01T11:51:39.738720416Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-12"]}
{"id":"bd-1gp","title":"Implement create_snapshot function","description":"create_snapshot(enemy_def, enemy_id, wave_num, wave_config, x, y) returns EnemySnapshot with scaled hp/damage","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:22.952313005Z","created_by":"ubuntu","updated_at":"2026-02-01T11:34:56.220424936Z","closed_at":"2026-02-01T11:34:56.220397846Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-5"]}
{"id":"bd-1gw","title":"Implement target selection","description":"Select nearest enemy within effective_range, tie-break by lowest enemy_id","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:39.406183934Z","created_by":"ubuntu","updated_at":"2026-02-01T11:52:01.437669965Z","closed_at":"2026-02-01T11:52:01.437638868Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-12"]}
{"id":"bd-1hb","title":"Implement position merge phase","description":"Update enemy_snaps x/y from enemy_pos_snaps, build segment_positions_by_instance_id","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:41.502948367Z","created_by":"ubuntu","updated_at":"2026-02-01T13:03:42.816569169Z","closed_at":"2026-02-01T13:03:42.816518095Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-1hw","title":"Implement physics callback registration","description":"Register on_pair_begin and on_pair_separate once globally","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:52.150429028Z","created_by":"ubuntu","updated_at":"2026-02-01T12:11:57.288656819Z","closed_at":"2026-02-01T12:11:57.288489206Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-1i6","title":"Implement SpawnEnemyEvent consumption","description":"Process spawn events with explicit enemy_id","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:09.072536836Z","created_by":"ubuntu","updated_at":"2026-02-01T10:59:24.626191529Z","closed_at":"2026-02-01T10:59:24.626153289Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-1ke","title":"Verify serpent_main.lua requires successfully","description":"Manual test: lua -e requiring serpent_main succeeds without errors","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:19.977543208Z","created_by":"ubuntu","updated_at":"2026-02-01T11:07:25.226563847Z","closed_at":"2026-02-01T11:07:25.226402857Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-1","test"]}
{"id":"bd-1la9","title":"Manual verification: Shop buy/sell/reroll","description":"Verify shop operations work correctly with gold accounting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:47.023111146Z","created_by":"ubuntu","updated_at":"2026-02-01T11:30:06.079453790Z","closed_at":"2026-02-01T11:30:06.079288682Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-1lp7","title":"Implement lich_king tick function","description":"tick(dt, boss_state, is_alive) returns delayed spawn entries","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:35.651058718Z","created_by":"ubuntu","updated_at":"2026-02-01T12:43:50.826240663Z","closed_at":"2026-02-01T12:43:50.826203254Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-1md","title":"Create test_enemies.lua tests","description":"Test 11 entries, expected IDs, numeric fields match, wave ranges valid","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:23.426050559Z","created_by":"ubuntu","updated_at":"2026-02-01T11:11:32.811491062Z","closed_at":"2026-02-01T11:11:32.811372260Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-5","test"]}
{"id":"bd-1mz1","title":"Create ui/victory_screen.lua module","description":"Create assets/scripts/serpent/ui/victory_screen.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:39.109141454Z","created_by":"ubuntu","updated_at":"2026-02-01T10:36:28.826630925Z","closed_at":"2026-02-01T10:36:28.826609565Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","ui"]}
{"id":"bd-1nq","title":"Create test_rng.lua tests","description":"Test same seed identical sequences, different seeds diverge, int inclusive bounds, choice consumes one int","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:20.668161106Z","created_by":"ubuntu","updated_at":"2026-02-01T11:09:16.599453542Z","closed_at":"2026-02-01T11:09:16.599422374Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-3","test"]}
{"id":"bd-1oh","title":"Define mid-tier enemies (orc, skeleton, wizard)","description":"Mid game enemies with correct stats and wave ranges","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:22.323693181Z","created_by":"ubuntu","updated_at":"2026-02-01T13:14:18.487971768Z","closed_at":"2026-02-01T13:14:18.487845373Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-5"]}
{"id":"bd-1py","title":"Create test_wave_config.lua tests","description":"Test formulas match spec, pool membership per wave bracket","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:35.527496790Z","created_by":"ubuntu","updated_at":"2026-02-01T13:18:55.939490192Z","closed_at":"2026-02-01T13:18:55.939368937Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","test"]}
{"id":"bd-1q1","title":"Implement Ranger synergy bonuses","description":"2: +20% atk_spd to Rangers, 4: +40% atk_spd, +20% range to Rangers","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:28.171484641Z","created_by":"ubuntu","updated_at":"2026-02-01T13:18:31.597750387Z","closed_at":"2026-02-01T13:18:31.597696827Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-1sio","title":"Manual verification: Enemy spawning and movement","description":"Verify enemies spawn at edges, move toward snake head","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:44.522532427Z","created_by":"ubuntu","updated_at":"2026-02-01T13:22:18.670583254Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-1t9","title":"Define Warrior units (soldier, knight, berserker, champion)","description":"4 Warrior units across tiers 1-4 with correct stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:20.833044392Z","created_by":"ubuntu","updated_at":"2026-02-01T13:12:21.623194392Z","closed_at":"2026-02-01T13:12:21.623102200Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-4"]}
{"id":"bd-1tb9","title":"Manual verification: Victory screen","description":"Verify victory screen shows after wave 20 cleared","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:52.367243127Z","created_by":"ubuntu","updated_at":"2026-02-01T13:23:14.580067834Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-1tg","title":"Implement HP scaling formula","description":"hp_max = floor(enemy_def.base_hp * (1 + wave * 0.1) + 0.00001)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:23.120426569Z","created_by":"ubuntu","updated_at":"2026-02-01T13:15:05.124296325Z","closed_at":"2026-02-01T13:15:05.124179087Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-5"]}
{"id":"bd-1v28","title":"Implement main menu button callback","description":"Main menu performs full cleanup and transitions to GAMESTATE.MAIN_MENU","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:41.120695407Z","created_by":"ubuntu","updated_at":"2026-02-04T01:34:02.855971577Z","closed_at":"2026-02-04T01:34:02.855944376Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","ui"]}
{"id":"bd-1v7","title":"Create combat_logic.lua module","description":"Create assets/scripts/serpent/combat_logic.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:40.425840656Z","created_by":"ubuntu","updated_at":"2026-02-01T10:49:32.900864057Z","closed_at":"2026-02-01T10:49:32.900797063Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-1wlp","title":"Create test_hud.lua tests","description":"Test HP formatting and aggregation helpers","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:30.338871239Z","created_by":"ubuntu","updated_at":"2026-02-04T01:19:42.488094641Z","closed_at":"2026-02-04T01:19:42.488050991Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","test"]}
{"id":"bd-1yt","title":"Implement enemy_count formula","description":"enemy_count(wave) = 5 + wave * 2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:34.052540749Z","created_by":"ubuntu","updated_at":"2026-02-01T11:15:43.709731115Z","closed_at":"2026-02-01T11:15:43.709609057Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","wave"]}
{"id":"bd-1zg","title":"Implement tail following","description":"Each segment follows previous at SEGMENT_SPACING=40px","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:00.330448216Z","created_by":"ubuntu","updated_at":"2026-02-01T12:26:42.258139093Z","closed_at":"2026-02-01T12:26:42.258106072Z","close_reason":"Already implemented - tail following exists in snake_controller.lua with SEGMENT_SPACING=40px and complete segment following logic that maintains proper spacing between segments in the update function","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-1zz","title":"Create enemy_factory.lua","description":"Create assets/scripts/serpent/enemy_factory.lua module","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:22.785969449Z","created_by":"ubuntu","updated_at":"2026-02-01T10:39:48.881001860Z","closed_at":"2026-02-01T10:39:48.880970521Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-5"]}
{"id":"bd-207","title":"Implement Warrior synergy bonuses","description":"2: +20% attack damage to Warriors, 4: +40% attack, +20% HP to Warriors","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:27.754277876Z","created_by":"ubuntu","updated_at":"2026-02-04T01:07:17.727582115Z","closed_at":"2026-02-04T01:07:17.727518757Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-208","title":"Create combat_adapter.lua module","description":"Create assets/scripts/serpent/combat_adapter.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:12.629509971Z","created_by":"ubuntu","updated_at":"2026-02-01T12:37:44.167427025Z","closed_at":"2026-02-01T12:37:44.167389314Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-213","title":"Create data/units.lua with 16 unit definitions","description":"Define all 16 units with id, class, tier, cost, base_hp, base_attack, range, atk_spd, special_id matching PLAN.md table","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:20.747048927Z","created_by":"ubuntu","updated_at":"2026-02-01T11:31:46.515580224Z","closed_at":"2026-02-01T11:31:46.515551841Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-4"]}
{"id":"bd-214j","title":"Run all Serpent unit tests","description":"Execute: lua assets/scripts/tests/test_runner.lua assets/scripts/serpent/tests/","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:54.948965466Z","created_by":"ubuntu","updated_at":"2026-02-01T11:03:36.968461728Z","closed_at":"2026-02-01T11:03:36.968432994Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","test","verification"]}
{"id":"bd-21n","title":"Define late-game enemies (troll, demon, dragon)","description":"Late game enemies with correct stats and wave ranges","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:22.511508843Z","created_by":"ubuntu","updated_at":"2026-02-01T13:14:29.004358396Z","closed_at":"2026-02-01T13:14:29.004246488Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-5"]}
{"id":"bd-221","title":"Implement reroll button view-model","description":"Reroll label with cost, enable/disable based on gold","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:19.264775215Z","created_by":"ubuntu","updated_at":"2026-02-01T13:05:02.175123129Z","closed_at":"2026-02-01T13:05:02.175091791Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-22c3","title":"Implement swarm_queen init function","description":"init(enemy_id) returns boss_state with spawn timer","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:31.826234813Z","created_by":"ubuntu","updated_at":"2026-02-01T11:26:13.741008589Z","closed_at":"2026-02-01T11:26:13.740838301Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-230","title":"Implement enemy damage/death event handling","description":"Apply DamageEventEnemy/DeathEventEnemy to runtime entities","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:14.149283963Z","created_by":"ubuntu","updated_at":"2026-02-01T12:32:13.399901708Z","closed_at":"2026-02-01T12:32:13.399869379Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-24c","title":"Implement rng:choice(list) method","description":"Consumes exactly one int call to select from list uniformly","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:20.581987570Z","created_by":"ubuntu","updated_at":"2026-02-01T10:33:57.802524371Z","closed_at":"2026-02-01T10:33:57.802479257Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["rng","serpent","task-3"]}
{"id":"bd-269b","title":"Implement victory view-model","description":"Show ui.serpent_victory_title, run stats, retry/menu buttons","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:39.716542962Z","created_by":"ubuntu","updated_at":"2026-02-01T11:27:47.436000870Z","closed_at":"2026-02-01T11:27:47.435964863Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","ui"]}
{"id":"bd-26l","title":"Implement mode state machine transitions","description":"Implement SHOP->COMBAT, COMBAT->SHOP, COMBAT->VICTORY, Any->GAME_OVER transitions with proper ordering","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.905856634Z","created_by":"ubuntu","updated_at":"2026-02-01T10:32:05.644863561Z","closed_at":"2026-02-01T10:29:30.182586949Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"],"comments":[{"id":5,"issue_id":"bd-26l","author":"Joshua Shin","text":"Analysis complete: COMBAT->VICTORY ✅, COMBAT->SHOP ✅, Any->GAME_OVER ✅ already implemented. SHOP->COMBAT ❓ missing - needs input handling for shop exit and wiring to progress_to_next_wave() system. Requires architectural decision on shop->planning vs shop->combat flow.","created_at":"2026-02-01T10:32:05Z"}]}
{"id":"bd-26p","title":"Implement attack cadence","description":"While cooldown <= 0 and target exists: emit attack, add effective_period to cooldown","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:39.760438978Z","created_by":"ubuntu","updated_at":"2026-02-01T11:17:47.755651777Z","closed_at":"2026-02-01T11:17:47.755505996Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-12"]}
{"id":"bd-274","title":"Implement enemy entity spawning","description":"Spawn enemy entities tagged ENEMY with physics bodies","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:02.601582813Z","created_by":"ubuntu","updated_at":"2026-02-01T12:30:10.899215821Z","closed_at":"2026-02-01T12:30:10.899169735Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-27a","title":"Create test_combines.lua tests","description":"Test lowest acquired_seq triple, chain combine, kept slot preserved, full-heal on combine","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:26.941697685Z","created_by":"ubuntu","updated_at":"2026-02-01T12:54:12.813362085Z","closed_at":"2026-02-01T12:54:12.813325889Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-7","test"]}
{"id":"bd-282","title":"Implement contact damage phase","description":"Process ContactSnapshot sorted (enemy_id, instance_id), apply 0.5s cooldown gating","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:44.671081074Z","created_by":"ubuntu","updated_at":"2026-02-01T10:51:07.055073419Z","closed_at":"2026-02-01T10:51:07.055038364Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-28r","title":"Implement unit damage and death phase","description":"Apply on_damage_taken modifiers, apply damage, emit DeathEventUnit when hp<=0","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:45.137020872Z","created_by":"ubuntu","updated_at":"2026-02-01T11:59:47.221443506Z","closed_at":"2026-02-01T11:59:47.221327429Z","close_reason":"Already implemented in unit_damage_logic.lua - complete damage/death phase with modifiers and events","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-290x","title":"Track run stats in serpent_main.lua","description":"Track waves_cleared, gold_earned, units_purchased for end screens","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:41.747494312Z","created_by":"ubuntu","updated_at":"2026-02-04T01:31:50.729982404Z","closed_at":"2026-02-04T01:31:50.729934205Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-20"]}
{"id":"bd-298","title":"Create test_synergy_system.lua tests","description":"Test thresholds at 2/4, modifier values match table, mage cooldown rule","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:28.747287978Z","created_by":"ubuntu","updated_at":"2026-02-01T12:54:50.696420115Z","closed_at":"2026-02-01T12:54:50.696381334Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-8","test"]}
{"id":"bd-29c","title":"Implement sell function","description":"sell() removes unit if can_sell, returns gold = floor(cost * 3^(level-1) * 0.5)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:38.228463323Z","created_by":"ubuntu","updated_at":"2026-02-01T11:51:01.466139693Z","closed_at":"2026-02-01T11:51:01.466099348Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"]}
{"id":"bd-29k","title":"Implement boss periodic spawns","description":"swarm_queen: 5 slimes every 10s, lich_king: queue skeleton raises","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:49.730696158Z","created_by":"ubuntu","updated_at":"2026-02-01T10:54:01.228433841Z","closed_at":"2026-02-01T10:54:01.228388928Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-2ab","title":"Create test_enemy_factory.lua tests","description":"Test hp/damage scaling formulas, rounding, boss tags preserved, positions set","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:23.567804049Z","created_by":"ubuntu","updated_at":"2026-02-04T01:11:06.084281545Z","closed_at":"2026-02-04T01:11:06.084233395Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-5","test"]}
{"id":"bd-2ap","title":"Wire collision tags in serpent_main.lua","description":"AddCollisionTag(SERPENT_SEGMENT), enable_collision_between SERPENT_SEGMENT and ENEMY","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:55.059213132Z","created_by":"ubuntu","updated_at":"2026-02-01T12:20:18.354501823Z","closed_at":"2026-02-01T12:20:18.354381369Z","close_reason":"Already implemented - collision tags are wired in register_physics_callbacks function with AddCollisionTag(SERPENT_SEGMENT) and enable_collision_between for SERPENT_SEGMENT and ENEMY tags, includes proper validation and logging","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-2fkf","title":"Implement retry button callback","description":"Retry performs full cleanup and re-enters SERPENT state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:40.404403052Z","created_by":"ubuntu","updated_at":"2026-02-04T01:34:17.445092645Z","closed_at":"2026-02-04T01:34:17.445069232Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","ui"]}
{"id":"bd-2fw","title":"Create snake_entity_adapter.lua module","description":"Create assets/scripts/serpent/snake_entity_adapter.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:55.523235875Z","created_by":"ubuntu","updated_at":"2026-02-01T10:57:03.150335500Z","closed_at":"2026-02-01T10:57:03.150291668Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-2gb","title":"Implement tick function","description":"tick(dt, director_state, id_state, rng, combat_events, alive_set) returns spawn events","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:48.417043502Z","created_by":"ubuntu","updated_at":"2026-02-01T12:03:43.061766814Z","closed_at":"2026-02-01T12:03:43.061637963Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-2gl","title":"Implement unit damage/death event handling","description":"Apply DamageEventUnit/DeathEventUnit to runtime segments","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:15.115763831Z","created_by":"ubuntu","updated_at":"2026-02-01T12:38:36.549168643Z","closed_at":"2026-02-01T12:38:36.549131122Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-2h4","title":"Create serpent_main.lua skeleton with init/update/cleanup","description":"Create assets/scripts/serpent/serpent_main.lua with init(), update(dt), cleanup() functions and MODE_STATE state machine (SHOP, COMBAT, VICTORY, GAME_OVER)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.471854093Z","created_by":"ubuntu","updated_at":"2026-02-01T10:23:27.909151854Z","closed_at":"2026-02-01T10:23:27.909125425Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"]}
{"id":"bd-2hj","title":"Implement combine merge logic","description":"Keep lowest acquired_seq instance, upgrade to level+1, remove other 2, set hp=hp_max_base","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:26.210071424Z","created_by":"ubuntu","updated_at":"2026-02-01T11:11:49.044872694Z","closed_at":"2026-02-01T11:11:49.044834322Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-7"]}
{"id":"bd-2hk","title":"Create unit_factory.lua module","description":"Create assets/scripts/serpent/unit_factory.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:24.866474800Z","created_by":"ubuntu","updated_at":"2026-02-01T10:44:06.116967499Z","closed_at":"2026-02-01T10:44:06.116935480Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-7"],"comments":[{"id":9,"issue_id":"bd-2hk","author":"Joshua Shin","text":"Progress: created assets/scripts/serpent/unit_factory.lua with apply_level_scaling (base * 2^(level-1), clamp level 1..3) and create_instance fields per spec. Verification: lua -e 'require(serpent.unit_factory)' (pass). ubs . run with UBS_MAX_DIR_SIZE_MB=5000; exit 1 with existing repo-wide findings.","created_at":"2026-02-01T10:44:01Z"}]}
{"id":"bd-2iq1","title":"Implement gold/wave/seed display","description":"Show current gold, wave number, and seed on HUD","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:26.467348617Z","created_by":"ubuntu","updated_at":"2026-02-04T01:37:02.015168782Z","closed_at":"2026-02-04T01:37:02.015078053Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-2ja","title":"Implement enemy creation and list update","description":"Use enemy_factory.create_snapshot, return sorted enemy_snaps list","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:11.291217815Z","created_by":"ubuntu","updated_at":"2026-02-01T12:37:10.716380135Z","closed_at":"2026-02-01T12:37:10.716332125Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-2k1","title":"Implement dmg_mult formula","description":"dmg_mult(wave) = 1 + wave * 0.05","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:34.648996293Z","created_by":"ubuntu","updated_at":"2026-02-01T13:30:37.627191817Z","closed_at":"2026-02-01T13:30:37.627054391Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","wave"],"comments":[{"id":17,"issue_id":"bd-2k1","author":"Joshua Shin","text":"Verified dmg_mult formula already implemented in assets/scripts/serpent/wave_config.lua as 1 + wave * 0.05. Ran standalone test: lua assets/scripts/serpent/tests/test_wave_config.lua (all 16 tests passed). No code changes needed.","created_at":"2026-02-01T13:28:44Z"},{"id":18,"issue_id":"bd-2k1","author":"Joshua Shin","text":"Checked wave_config.lua and enemy_factory.lua: dmg_mult already implemented as 1 + wave * 0.05. Tests: ran serpent wave_config tests via lua (all 16 passed). UBS: UBS_MAX_DIR_SIZE_MB=5000 ubs . timed out after 120s (scan started). No code changes needed.","created_at":"2026-02-01T13:30:21Z"}]}
{"id":"bd-2kv","title":"Create combine_logic.lua module","description":"Create assets/scripts/serpent/combine_logic.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:25.559601200Z","created_by":"ubuntu","updated_at":"2026-02-01T10:41:31.003767845Z","closed_at":"2026-02-01T10:41:31.003730986Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-7"]}
{"id":"bd-2lu","title":"Implement gold_reward formula","description":"gold_reward(wave) = 10 + wave * 2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:34.976452246Z","created_by":"ubuntu","updated_at":"2026-02-01T12:56:35.515471369Z","closed_at":"2026-02-01T12:56:35.515442797Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","wave"]}
{"id":"bd-2mf2","title":"Manual verification: Determinism spot-check","description":"Same SERPENT_SEED yields identical shop offers and spawn positions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:54.160486054Z","created_by":"ubuntu","updated_at":"2026-02-01T13:11:51.236560544Z","closed_at":"2026-02-01T13:11:51.236459446Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-2nbo","title":"Create bosses/swarm_queen.lua module","description":"Create assets/scripts/serpent/bosses/swarm_queen.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:31.019557537Z","created_by":"ubuntu","updated_at":"2026-02-01T11:01:22.124905484Z","closed_at":"2026-02-01T11:01:22.124873845Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-2o5","title":"Implement rng:float() method","description":"Returns float in [0,1) range","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:20.507918287Z","created_by":"ubuntu","updated_at":"2026-02-01T10:33:19.849203169Z","closed_at":"2026-02-01T10:33:19.849164097Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["rng","serpent","task-3"]}
{"id":"bd-2oi","title":"Implement synergy/passive computation phase","description":"Compute synergy_state and passive mods, calculate effective stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:42.730689412Z","created_by":"ubuntu","updated_at":"2026-02-01T13:53:34.991079757Z","closed_at":"2026-02-01T13:50:45.477068854Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"],"comments":[{"id":19,"issue_id":"bd-2oi","author":"Joshua Shin","text":"Implemented combat_logic.compute_synergy_and_passives with synergy/passive stacking + effective stat recompute/clamp; added test_combat_logic_synergy_passives.lua. Tests: lua assets/scripts/serpent/tests/test_combat_logic_synergy_passives.lua. UBS run (UBS_MAX_DIR_SIZE_MB=5000 ubs .) reported repo-wide warnings (exit 1). luacheck not available in env.","created_at":"2026-02-01T13:50:42Z"},{"id":20,"issue_id":"bd-2oi","author":"Joshua Shin","text":"Progress: added synergy_passive_logic compute module + tests; fixed synergy_system.get_effective_multipliers copy bug. Tests: lua assets/scripts/serpent/tests/test_synergy_passive_logic.lua; lua assets/scripts/serpent/tests/test_synergy_system.lua. luacheck not installed.","created_at":"2026-02-01T13:53:34Z"}]}
{"id":"bd-2ot","title":"Implement shop offer generation","description":"For each slot: roll tier by odds, build stable-sorted tier pool, pick uniformly","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:36.642419620Z","created_by":"ubuntu","updated_at":"2026-02-01T11:47:47.094019343Z","closed_at":"2026-02-01T11:47:47.093960733Z","close_reason":"Already implemented with complete shop offer generation system","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"]}
{"id":"bd-2pa","title":"Implement is_dead function","description":"is_dead(snake_state) returns true when #segments == 0","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:24.350205865Z","created_by":"ubuntu","updated_at":"2026-02-04T01:09:40.879019631Z","closed_at":"2026-02-04T01:09:40.878984186Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-6"]}
{"id":"bd-2pb","title":"Implement spawn position calculation","description":"Compute deterministic spawn positions via RNG + edge_random spawn rule","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:10.087763438Z","created_by":"ubuntu","updated_at":"2026-02-01T12:31:59.308176300Z","closed_at":"2026-02-01T12:31:59.308148049Z","close_reason":"Already implemented - spawn position calculation exists in enemy_spawner_adapter.compute_spawn_position with deterministic RNG and edge_random spawn rule algorithm for arena edge positioning","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-2pv","title":"Implement triple detection by def_id and level","description":"Group by (def_id, level), find 3+ instances with lowest acquired_seq","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:25.962374924Z","created_by":"ubuntu","updated_at":"2026-02-01T12:52:05.933548316Z","closed_at":"2026-02-01T12:52:05.933500888Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-7"]}
{"id":"bd-2sb","title":"Implement shop slot view-model helpers","description":"Slot labels, affordability checks, enable/disable states","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:18.460152562Z","created_by":"ubuntu","updated_at":"2026-02-04T01:29:02.995305622Z","closed_at":"2026-02-04T01:29:02.995274353Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-2uc","title":"Implement on_damage_taken modifier function","description":"on_damage_taken applies paladin_divine_shield, knight_block 20% reduction","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:30.130778819Z","created_by":"ubuntu","updated_at":"2026-02-01T11:44:49.465537989Z","closed_at":"2026-02-01T11:44:49.465506821Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-2uf","title":"Create snake_controller.lua module","description":"Create assets/scripts/serpent/snake_controller.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:58.269433671Z","created_by":"ubuntu","updated_at":"2026-02-01T11:00:28.253124047Z","closed_at":"2026-02-01T11:00:28.253091597Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"],"comments":[{"id":13,"issue_id":"bd-2uf","author":"Joshua Shin","text":"Progress: created assets/scripts/serpent/snake_controller.lua with head input steering, arena clamp, and deterministic tail spacing. Verification: lua -e 'require(serpent.snake_controller)' (pass). ubs . run with UBS_MAX_DIR_SIZE_MB=5000; exit 1 with existing repo-wide findings.","created_at":"2026-02-01T11:00:23Z"}]}
{"id":"bd-2vm","title":"Implement hp_mult formula","description":"hp_mult(wave) = 1 + wave * 0.1","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:34.359544818Z","created_by":"ubuntu","updated_at":"2026-02-01T11:15:51.641511381Z","closed_at":"2026-02-01T11:15:51.641489180Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","wave"]}
{"id":"bd-2x5x","title":"Manual verification: Unit/enemy death despawn","description":"Verify death removes entities cleanly from both sides","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:45.959752506Z","created_by":"ubuntu","updated_at":"2026-02-01T13:22:29.703646093Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-2xl","title":"Implement enter_shop function","description":"enter_shop(upcoming_wave, gold, rng, unit_defs, shop_odds) returns shop_state with 5 offers","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:36.120850002Z","created_by":"ubuntu","updated_at":"2026-02-01T10:47:55.484313552Z","closed_at":"2026-02-01T10:47:55.484280410Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"]}
{"id":"bd-2y6","title":"Implement boss event processing","description":"Process enemy_dead events for lich_king raise scheduling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:49.163680481Z","created_by":"ubuntu","updated_at":"2026-02-01T12:05:50.761774782Z","closed_at":"2026-02-01T12:05:50.761678833Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-2y8","title":"Implement paladin_divine_shield special","description":"Once per wave, first nonzero hit becomes 0 damage","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:32.440292219Z","created_by":"ubuntu","updated_at":"2026-02-04T01:05:18.316272333Z","closed_at":"2026-02-04T01:05:18.316212140Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-2yh","title":"Create synergy_system.lua module","description":"Create assets/scripts/serpent/synergy_system.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:27.179301590Z","created_by":"ubuntu","updated_at":"2026-02-01T11:41:16.092504579Z","closed_at":"2026-02-01T11:41:16.092468461Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-2zxh","title":"Manual verification: Wave progression","description":"Verify wave clears when all enemies dead and spawns complete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:49.449342363Z","created_by":"ubuntu","updated_at":"2026-02-01T11:32:09.209492275Z","closed_at":"2026-02-01T11:32:09.209462098Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-301","title":"Define Support units (healer, bard, paladin, angel)","description":"4 Support units across tiers 1-4 with correct stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:21.272789891Z","created_by":"ubuntu","updated_at":"2026-02-01T13:13:17.725401385Z","closed_at":"2026-02-01T13:13:17.725289567Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-4"]}
{"id":"bd-304","title":"Implement sniper_crit special","description":"20% chance per attack to deal 2x damage, roll via rng:float()","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:31.440762452Z","created_by":"ubuntu","updated_at":"2026-02-04T01:05:58.617316433Z","closed_at":"2026-02-04T01:05:58.617273824Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-30q","title":"Implement ready button view-model","description":"Ready button enable based on minimum snake length","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:20.913440414Z","created_by":"ubuntu","updated_at":"2026-02-04T01:25:34.312119731Z","closed_at":"2026-02-04T01:25:34.312072153Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-314","title":"Create ui/shop_ui.lua module","description":"Create assets/scripts/serpent/ui/shop_ui.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:17.243314274Z","created_by":"ubuntu","updated_at":"2026-02-01T11:02:10.301432195Z","closed_at":"2026-02-01T11:02:10.301401487Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-31a","title":"Implement segment despawn and unregister","description":"On despawn, unregister from contact_collector","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:57.256430055Z","created_by":"ubuntu","updated_at":"2026-02-01T13:21:01.289839632Z","closed_at":"2026-02-01T13:21:01.289696525Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-31f","title":"Create snake_logic.lua module","description":"Create assets/scripts/serpent/snake_logic.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:23.698267474Z","created_by":"ubuntu","updated_at":"2026-02-01T11:36:57.557258313Z","closed_at":"2026-02-01T11:36:57.557229450Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-6"],"comments":[{"id":16,"issue_id":"bd-31f","author":"Joshua Shin","text":"Checked assets/scripts/serpent/snake_logic.lua: module already exists. Verified it loads via lua with assets/scripts in package.path; no code changes needed.","created_at":"2026-02-01T11:36:51Z"}]}
{"id":"bd-31k","title":"Implement get_passive_mods function","description":"Returns passive modifiers by instance_id (knight_block, bard buffs)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:29.255583636Z","created_by":"ubuntu","updated_at":"2026-02-01T11:43:41.113937679Z","closed_at":"2026-02-01T11:43:41.113907352Z","close_reason":"Already implemented and tested - handles knight_block, bard buffs, berserker frenzy","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-31m","title":"Implement tick function","description":"tick(dt, segment_combat_snaps, enemy_snaps) returns updated cooldowns and attack events","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:39.126456338Z","created_by":"ubuntu","updated_at":"2026-02-01T11:52:32.453566265Z","closed_at":"2026-02-01T11:52:32.453529997Z","close_reason":"Already implemented in auto_attack_logic.lua - full tick function with cooldown and attack event processing","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-12"]}
{"id":"bd-31w0","title":"Implement lich_king init function","description":"init(enemy_id) returns boss_state with raise queue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:34.127534185Z","created_by":"ubuntu","updated_at":"2026-02-04T01:35:19.758191142Z","closed_at":"2026-02-04T01:35:19.758162248Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-32d","title":"Implement berserker_frenzy special","description":"+5% attack per credited kill, stacking, persists within run","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:32.032299241Z","created_by":"ubuntu","updated_at":"2026-02-04T01:05:39.170396220Z","closed_at":"2026-02-04T01:05:39.170366955Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-349","title":"Implement delayed timer processing","description":"Decrement delayed_queue timers, move expired to forced_queue in order","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:48.761576409Z","created_by":"ubuntu","updated_at":"2026-02-01T14:03:51.088766422Z","closed_at":"2026-02-01T14:02:14.888289323Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"],"comments":[{"id":28,"issue_id":"bd-349","author":"Joshua Shin","text":"Progress: added delayed_spawn_logic module + tests to decrement delayed_queue timers and append expired entries to forced_queue. Tests: lua assets/scripts/serpent/tests/test_delayed_spawn_logic.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T14:02:09Z"},{"id":30,"issue_id":"bd-349","author":"Joshua Shin","text":"Delayed timer processing already implemented in assets/scripts/serpent/delayed_spawn_logic.lua with test_delayed_spawn_logic.lua. Evidence: ran lua assets/scripts/tests/test_runner.lua assets/scripts/serpent/tests --filter delayed_spawn_logic (runner loads whole dir; failures due to missing serpent.data.enemies and serpent.snake_controller modules). UBS run (UBS_MAX_DIR_SIZE_MB=5000 ubs .) reports repo-wide warnings (exit 1).","created_at":"2026-02-01T14:03:51Z"}]}
{"id":"bd-34a","title":"Create test_unit_factory.lua tests","description":"Test stat scaling 2^(level-1), cap at level 3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:26.584724244Z","created_by":"ubuntu","updated_at":"2026-02-01T13:16:44.644465980Z","closed_at":"2026-02-01T13:16:44.644364512Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-7","test"]}
{"id":"bd-34e4","title":"Implement game over view-model","description":"Show ui.serpent_game_over_title, run stats, retry/menu buttons","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:38.357058356Z","created_by":"ubuntu","updated_at":"2026-02-04T01:24:03.092894116Z","closed_at":"2026-02-04T01:24:03.092803567Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-20","ui"]}
{"id":"bd-34f","title":"Create enemy_entity_adapter.lua module","description":"Create assets/scripts/serpent/enemy_entity_adapter.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:00.986154974Z","created_by":"ubuntu","updated_at":"2026-02-01T12:30:48.689197252Z","closed_at":"2026-02-01T12:30:48.689157868Z","close_reason":"Already implemented - enemy_entity_adapter.lua exists with complete enemy entity management functionality including physics integration, contact collector registration, position management, and snapshot synchronization","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-34i","title":"Implement init_state function","description":"init_state(snake_state, wave_num) returns combat_state with accumulators and cooldown map","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:40.761516893Z","created_by":"ubuntu","updated_at":"2026-02-01T11:53:21.836285100Z","closed_at":"2026-02-01T11:53:21.836197086Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-34r","title":"Implement enemy entity mapping","description":"Maintain enemy_id -> entity_id mapping, register with contact_collector","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:03.216438128Z","created_by":"ubuntu","updated_at":"2026-02-01T11:23:42.588116502Z","closed_at":"2026-02-01T11:23:42.588071719Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-34tv","title":"Manual verification: Combine system","description":"Verify 3 same units combine into upgraded unit","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:48.400452572Z","created_by":"ubuntu","updated_at":"2026-02-01T13:22:40.572260316Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-35m","title":"Implement base enemy selection algorithm","description":"Build spawn list of length enemy_count(wave) using rng:choice(pool) for each","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:47.747182287Z","created_by":"ubuntu","updated_at":"2026-02-01T12:02:47.613252552Z","closed_at":"2026-02-01T12:02:47.613225491Z","close_reason":"Already implemented in serpent_wave_director.start_wave - RNG-based enemy selection from wave pool","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-35q","title":"Implement bard_adjacent_atkspd special","description":"Adjacent segments gain +10% atk_spd, multiplicative stacking per adjacent bard","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:31.701467539Z","created_by":"ubuntu","updated_at":"2026-02-01T13:30:24.331149109Z","closed_at":"2026-02-01T13:30:24.331025500Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-362","title":"Create rng.lua with PRNG implementation","description":"Create assets/scripts/serpent/rng.lua with xorshift/LCG PRNG that doesn't touch global math.randomseed","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:20.243405654Z","created_by":"ubuntu","updated_at":"2026-02-01T11:06:27.625752404Z","closed_at":"2026-02-01T11:06:27.625606512Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["rng","serpent","task-3"],"dependencies":[{"issue_id":"bd-362","depends_on_id":"bd-17hv","type":"blocks","created_at":"2026-02-01T10:32:36.333006689Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":4,"issue_id":"bd-362","author":"Joshua Shin","text":"Progress: added assets/scripts/serpent/rng.lua implementing xorshift + LCG PRNG (no math.randomseed). Manual load check via lua require ok. Linter: luacheck not installed. Tests: just test failed due to missing X11 (X11_X11_INCLUDE_PATH/X11_X11_LIB). UBS exit 1 with existing repo-wide warnings.","created_at":"2026-02-01T10:32:03Z"}]}
{"id":"bd-369","title":"Implement set_enabled function","description":"Toggle whether callbacks mutate internal overlap state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:52.568122434Z","created_by":"ubuntu","updated_at":"2026-02-01T13:27:26.886303209Z","closed_at":"2026-02-01T13:27:26.886267543Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-36d","title":"Implement apply_combines_until_stable function","description":"Repeatedly combine triples until no more possible, process def_id ascending then level 1->2","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:25.764396988Z","created_by":"ubuntu","updated_at":"2026-02-01T11:40:38.984934462Z","closed_at":"2026-02-01T11:40:38.984902943Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-7"]}
{"id":"bd-36o3","title":"Create test_shop_ui.lua tests","description":"Test view-model helpers only","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:27.711059948Z","created_by":"ubuntu","updated_at":"2026-02-04T01:23:09.745333589Z","closed_at":"2026-02-04T01:23:09.745294756Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","test"]}
{"id":"bd-36p","title":"Create ui/synergy_ui.lua module","description":"Create assets/scripts/serpent/ui/synergy_ui.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:23.276971133Z","created_by":"ubuntu","updated_at":"2026-02-01T12:41:17.806671775Z","closed_at":"2026-02-01T12:41:17.804515965Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-36q","title":"Implement build_pos_snapshots for segments","description":"build_pos_snapshots() returns SegmentPosSnapshot[] in head->tail order","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:57.745385472Z","created_by":"ubuntu","updated_at":"2026-02-01T12:25:21.717869098Z","closed_at":"2026-02-01T12:25:21.717750328Z","close_reason":"Implemented build_pos_snapshots for segments - updated function to return SegmentPosSnapshot[] in head→tail order using spawn order tracking instead of instance_id sorting, includes proper segment order management during spawn/despawn","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-37m","title":"Implement enemy despawn and unregister","description":"On despawn, unregister from contact_collector","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:03.917338047Z","created_by":"ubuntu","updated_at":"2026-02-04T01:37:55.022454446Z","closed_at":"2026-02-04T01:37:55.022400826Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-37x","title":"Create data/shop_odds.lua with tier probability tables","description":"Define shop tier odds for wave brackets 1-5, 6-10, 11-15, 16-20 matching PLAN.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:21.450591766Z","created_by":"ubuntu","updated_at":"2026-02-01T10:38:21.090860581Z","closed_at":"2026-02-01T10:38:21.090784951Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-4"]}
{"id":"bd-390a","title":"Create ui/hud.lua module","description":"Create assets/scripts/serpent/ui/hud.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:24.827211210Z","created_by":"ubuntu","updated_at":"2026-02-01T12:34:55.223982671Z","closed_at":"2026-02-01T12:34:55.223943077Z","close_reason":"Created ui/hud.lua module with comprehensive HUD functionality including combat/shop view models, wave tracking, snake health, player resources, synergy display, performance monitoring, and utility functions","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-39s","title":"Implement is_done_spawning function","description":"is_done_spawning returns true when pending_count == 0","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:50.612860344Z","created_by":"ubuntu","updated_at":"2026-02-01T14:03:41.573502580Z","closed_at":"2026-02-01T14:03:41.573470680Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"],"comments":[{"id":29,"issue_id":"bd-39s","author":"Joshua Shin","text":"Progress: added serpent_wave_director.is_done_spawning (pending_count == 0) + test_serpent_wave_director_done_spawning.lua. Tests: lua assets/scripts/serpent/tests/test_serpent_wave_director_done_spawning.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T14:03:38Z"}]}
{"id":"bd-3a9","title":"Implement calculate function","description":"calculate(segments, unit_defs) returns synergy_state with counts per class","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:27.384437543Z","created_by":"ubuntu","updated_at":"2026-02-01T11:41:53.085565595Z","closed_at":"2026-02-01T11:41:53.085537163Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-3b1","title":"Implement Support synergy bonuses","description":"2: 5 HP/sec global regen, 4: 10 HP/sec global regen, +10% all stats to all units","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:28.431782379Z","created_by":"ubuntu","updated_at":"2026-02-01T11:14:10.453030497Z","closed_at":"2026-02-01T11:14:10.452990912Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-3cpm","title":"Create bosses/lich_king.lua module","description":"Create assets/scripts/serpent/bosses/lich_king.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:33.401091346Z","created_by":"ubuntu","updated_at":"2026-02-01T12:42:06.000343402Z","closed_at":"2026-02-01T12:42:06.000305822Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-3cz","title":"Implement can_sell function","description":"can_sell(snake_state, instance_id) returns false if would drop below min_len=3","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:24.039434615Z","created_by":"ubuntu","updated_at":"2026-02-01T11:37:43.343971417Z","closed_at":"2026-02-01T11:37:43.343923266Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-6"]}
{"id":"bd-3db","title":"Create contact_collector.lua module","description":"Create assets/scripts/serpent/contact_collector.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:51.642372903Z","created_by":"ubuntu","updated_at":"2026-02-01T12:09:27.870276646Z","closed_at":"2026-02-01T12:09:27.870154609Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-3dd","title":"Create test_snake_logic.lua tests","description":"Test sell blocking, death removal, length 0 dead, create_initial monotonic ids","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:24.535492976Z","created_by":"ubuntu","updated_at":"2026-02-04T01:09:16.446100362Z","closed_at":"2026-02-04T01:09:16.446051851Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-6","test"]}
{"id":"bd-3eb","title":"Implement cooldown decrement phase","description":"Decrement unit cooldowns by dt for each segment head->tail","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:42.288799140Z","created_by":"ubuntu","updated_at":"2026-02-04T01:00:16.403033340Z","closed_at":"2026-02-04T01:00:16.402798683Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-3f6","title":"Implement on_wave_start function","description":"on_wave_start resets paladin_divine_shield availability","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:30.582111225Z","created_by":"ubuntu","updated_at":"2026-02-04T01:06:37.171181518Z","closed_at":"2026-02-04T01:06:37.171146713Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-3gc","title":"Create serpent_wave_director.lua module","description":"Create assets/scripts/serpent/serpent_wave_director.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:46.575911359Z","created_by":"ubuntu","updated_at":"2026-02-01T12:00:55.793184593Z","closed_at":"2026-02-01T12:00:55.793148164Z","close_reason":"Created complete serpent_wave_director.lua with 20-wave progression, boss injection, and scaling","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-3i49","title":"Implement lich_king on_enemy_dead function","description":"Queue skeleton raise with 2s delay for non-boss enemy deaths","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:34.900619723Z","created_by":"ubuntu","updated_at":"2026-02-01T12:43:47.855649493Z","closed_at":"2026-02-01T12:43:47.855589210Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-3i7","title":"Implement healer_adjacent_regen special","description":"Healer heals adjacent segments 10 HP/sec each with accumulator","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:30.817453867Z","created_by":"ubuntu","updated_at":"2026-02-01T10:44:44.918289283Z","closed_at":"2026-02-01T10:44:44.918248427Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-3ku","title":"Implement remove_instance function","description":"remove_instance(snake_state, instance_id) removes segment, allows dropping below 3 for deaths","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:24.227083588Z","created_by":"ubuntu","updated_at":"2026-02-01T11:38:57.766210663Z","closed_at":"2026-02-01T11:38:57.766183232Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-6"]}
{"id":"bd-3lg","title":"Create test_serpent_shop.lua tests","description":"Test 5 offers, reroll cost increments, gold accounting, purchase/sell logic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:38.569344459Z","created_by":"ubuntu","updated_at":"2026-02-04T01:03:13.369243826Z","closed_at":"2026-02-04T01:03:13.369174297Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-11","test"]}
{"id":"bd-3mah","title":"Implement HP bar view-model","description":"HP as sum(hp)/sum(effective_hp_max) across segments","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:25.649505977Z","created_by":"ubuntu","updated_at":"2026-02-01T12:34:08.426384827Z","closed_at":"2026-02-01T12:34:08.426353889Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-3miz","title":"Implement swarm_queen tick function","description":"tick(dt, boss_state, is_alive) returns 5 slimes every 10s while alive","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:32.715779271Z","created_by":"ubuntu","updated_at":"2026-02-01T11:02:08.624741290Z","closed_at":"2026-02-01T11:02:08.624711314Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["boss","serpent","task-19"]}
{"id":"bd-3my","title":"Implement global regen accumulator","description":"Accumulate regen, emit 1 HP heals round-robin via cursor, wrap head->tail","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:43.441045086Z","created_by":"ubuntu","updated_at":"2026-02-01T13:56:21.951091506Z","closed_at":"2026-02-01T13:56:21.951064696Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"],"comments":[{"id":21,"issue_id":"bd-3my","author":"Joshua Shin","text":"Implemented global_regen_logic.tick with accumulator + cursor round-robin healing; added combat_state.global_regen_cursor init; added test_global_regen_logic.lua. Tests: lua assets/scripts/serpent/tests/test_global_regen_logic.lua. UBS run (UBS_MAX_DIR_SIZE_MB=5000 ubs .) reports repo-wide warnings (exit 1). luacheck not available.","created_at":"2026-02-01T13:56:18Z"}]}
{"id":"bd-3qy","title":"Define Ranger units (scout, sniper, assassin, windrunner)","description":"4 Ranger units across tiers 1-4 with correct stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:21.033157377Z","created_by":"ubuntu","updated_at":"2026-02-01T11:09:34.048485139Z","closed_at":"2026-02-01T11:09:34.048372229Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-4"]}
{"id":"bd-3ra","title":"Implement get_pool function","description":"get_pool(wave_num, enemy_defs) returns non-boss enemy ids where min_wave <= wave <= max_wave","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:35.222717517Z","created_by":"ubuntu","updated_at":"2026-02-01T11:46:43.284434950Z","closed_at":"2026-02-01T11:46:43.284379887Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","wave"]}
{"id":"bd-3sh","title":"Create enemy_controller.lua module","description":"Create assets/scripts/serpent/enemy_controller.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:05.927586340Z","created_by":"ubuntu","updated_at":"2026-02-01T12:30:42.716421132Z","closed_at":"2026-02-01T12:30:42.716356262Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-3sq","title":"Create enemy_spawner_adapter.lua module","description":"Create assets/scripts/serpent/enemy_spawner_adapter.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:08.459887533Z","created_by":"ubuntu","updated_at":"2026-02-01T12:31:28.545296779Z","closed_at":"2026-02-01T12:31:28.545257066Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-3t6b","title":"Create test_bosses.lua tests","description":"Test swarm_queen cadence, lich_king raise scheduling, boss death filtering","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:36.586565479Z","created_by":"ubuntu","updated_at":"2026-02-01T13:06:08.988401920Z","closed_at":"2026-02-01T13:06:08.988374399Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-19","test"]}
{"id":"bd-3uq7","title":"Full playthrough verification","description":"Complete run from start to victory without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:56.014461442Z","created_by":"ubuntu","updated_at":"2026-02-01T12:47:09.817583491Z","closed_at":"2026-02-01T12:47:09.817546853Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-3ux","title":"Implement sell button view-model","description":"Sell enable/disable based on can_sell check","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:20.066642483Z","created_by":"ubuntu","updated_at":"2026-02-04T01:27:30.133268412Z","closed_at":"2026-02-04T01:27:30.133231404Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
{"id":"bd-3vm","title":"Implement start_wave function","description":"start_wave(wave_num, rng, enemy_defs, wave_config) builds base_spawn_list via RNG","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:47.410526264Z","created_by":"ubuntu","updated_at":"2026-02-01T12:01:50.730084567Z","closed_at":"2026-02-01T12:01:50.730038872Z","close_reason":"Already implemented in serpent_wave_director.lua - complete start_wave with RNG-based spawn list generation","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-3vt","title":"Add Serpent localization keys to ko_kr.json","description":"Add Korean stub text for all Serpent UI keys (acceptable placeholder text for v-slice)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:20.163830312Z","created_by":"ubuntu","updated_at":"2026-02-01T13:11:49.426830929Z","closed_at":"2026-02-01T13:11:49.426723157Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["localization","serpent","task-2"]}
{"id":"bd-3w2","title":"Implement can_buy function","description":"Check gold >= cost and purchase+combines results in length <= max_len","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:37.463407973Z","created_by":"ubuntu","updated_at":"2026-02-01T13:31:28.610676650Z","closed_at":"2026-02-01T13:31:28.610634071Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","shop","task-11"]}
{"id":"bd-4sz","title":"Implement rng:int(min, max) method","description":"Returns inclusive integer in [min, max] range","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:20.423139118Z","created_by":"ubuntu","updated_at":"2026-02-01T10:31:58.436553721Z","closed_at":"2026-02-01T10:31:58.436532832Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["rng","serpent","task-3"]}
{"id":"bd-5hv","title":"Implement create_instance function","description":"create_instance(unit_def, instance_id, acquired_seq) returns level-1 UnitInstance with base stats","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:25.142506232Z","created_by":"ubuntu","updated_at":"2026-02-01T11:39:34.093160329Z","closed_at":"2026-02-01T11:39:34.093120546Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-7"]}
{"id":"bd-6q2","title":"Implement overlap tracking","description":"Store overlaps as set keyed by enemy_id..':'..instance_id to avoid duplicates","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:53.735158529Z","created_by":"ubuntu","updated_at":"2026-02-01T12:18:16.332865032Z","closed_at":"2026-02-01T12:18:16.332705304Z","close_reason":"Already implemented - overlap tracking exists in contact_collector.lua with active_overlaps set using enemy_id:instance_id key format to avoid duplicates, includes proper state management and test coverage","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-7v3","title":"Implement special event hooks phase","description":"Feed events to specials: enemy_dead->berserker, wave_start->paladin reset","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:46.012970883Z","created_by":"ubuntu","updated_at":"2026-02-01T13:01:33.375435841Z","closed_at":"2026-02-01T13:01:33.375398190Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-83y","title":"Implement enemy movement toward head","description":"Move toward head position at enemy.speed using physics.SetVelocity","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:07.683320146Z","created_by":"ubuntu","updated_at":"2026-02-01T12:36:14.883734691Z","closed_at":"2026-02-01T12:36:14.883620809Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-8d3z","title":"Manual verification: Enter/exit SERPENT mode","description":"Verify entering SERPENT from main menu and exiting without duplicate state","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:43.314014337Z","created_by":"ubuntu","updated_at":"2026-02-01T13:22:03.694923747Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-afj","title":"Implement build_pos_snapshots for enemies","description":"build_pos_snapshots() returns EnemyPosSnapshot[] sorted by enemy_id","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:04.815782499Z","created_by":"ubuntu","updated_at":"2026-02-01T12:35:21.888388582Z","closed_at":"2026-02-01T12:35:21.888355279Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"]}
{"id":"bd-bd4","title":"Implement segment entity registration","description":"register_segment_entity(instance_id, entity_id), unregister with overlap cleanup","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:53.341252543Z","created_by":"ubuntu","updated_at":"2026-02-01T12:15:13.613495750Z","closed_at":"2026-02-01T12:15:13.613356451Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-bdx","title":"Create SERPENT_TIMER_GROUP constant","description":"Define SERPENT_TIMER_GROUP = 'serpent' and ensure cleanup calls timer.kill_group('serpent')","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:19.825973408Z","created_by":"ubuntu","updated_at":"2026-02-01T12:48:46.474198188Z","closed_at":"2026-02-01T12:48:46.474175886Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"]}
{"id":"bd-bubx","title":"Manual verification: Boss wave 20 (lich_king)","description":"Verify lich_king appears on wave 20, raises skeletons on enemy death","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:51.469566326Z","created_by":"ubuntu","updated_at":"2026-02-01T13:25:00.269900639Z","closed_at":"2026-02-01T13:25:00.269714122Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-bw5","title":"Implement attack production phase","description":"Generate auto-attacks in head->tail order using auto_attack_logic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:43.721433924Z","created_by":"ubuntu","updated_at":"2026-02-01T13:56:45.566476458Z","closed_at":"2026-02-01T13:56:33.622117077Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"],"comments":[{"id":22,"issue_id":"bd-bw5","author":"Joshua Shin","text":"Progress: added attack_production_logic module + tests; uses auto_attack_logic for head->tail ordering and cooldown updates. Tests: lua assets/scripts/serpent/tests/test_attack_production_logic.lua. UBS: ubs assets/scripts/serpent (root scan too large).","created_at":"2026-02-01T13:56:29Z"},{"id":23,"issue_id":"bd-bw5","author":"Joshua Shin","text":"No action: task already closed and notes indicate attack_production_logic + tests already landed.","created_at":"2026-02-01T13:56:45Z"}]}
{"id":"bd-bxr","title":"Implement boss injection","description":"Wave 10: prepend swarm_queen to forced_queue, Wave 20: prepend lich_king","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:48.144167852Z","created_by":"ubuntu","updated_at":"2026-02-01T10:52:37.838349994Z","closed_at":"2026-02-01T10:52:37.838322384Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","wave"]}
{"id":"bd-ce6","title":"Implement tick function core loop","description":"tick() orchestrates all combat phases in correct order","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:41.121090737Z","created_by":"ubuntu","updated_at":"2026-02-01T11:54:04.450447018Z","closed_at":"2026-02-01T11:54:04.450405792Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-cvoa","title":"Investigate: unit_tests fail due to Tracy invariant TSC check","description":"cmake --build build --target unit_tests fails during gtest discovery: 'Tracy Profiler initialization failure: CPU doesn't support invariant TSC.' Suggest TRACY_NO_INVARIANT_CHECK=1 or TRACY_TIMER_FALLBACK for test builds; need proper fix/config for CI/dev.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-01T10:58:42.650943870Z","created_by":"ubuntu","updated_at":"2026-02-01T11:31:45.747732047Z","closed_at":"2026-02-01T11:31:45.747681814Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":14,"issue_id":"bd-cvoa","author":"Joshua Shin","text":"Progress: set TRACY_TIMER_FALLBACK ON in CMake when ENABLE_UNIT_TESTS to bypass invariant TSC checks; removed per-target fallback define. Build: cmake --build build --target unit_tests -- -j8 configures with TRACY_TIMER_FALLBACK=ON and links TracyClient, but unit_tests still fails at link with undefined references to input::gamepad::process_button_press/release (likely pre-existing). UBS: UBS_MAX_DIR_SIZE_MB=5000 ubs . timed out after 120s.","created_at":"2026-02-01T11:31:36Z"}]}
{"id":"bd-cwy","title":"Implement on_attack modifier function","description":"on_attack(ctx, attack_event, rng) applies sniper_crit 20% chance for 2x damage","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:29.895217359Z","created_by":"ubuntu","updated_at":"2026-02-01T11:44:50.890162522Z","closed_at":"2026-02-01T11:44:50.890121835Z","close_reason":"Already implemented and tested - sniper_crit 20% chance for 2x damage working","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-d0m","title":"Implement enemy damage and death phase","description":"Apply damage, emit DeathEventEnemy when hp<=0, remove dead from enemy_snaps","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:44.354283290Z","created_by":"ubuntu","updated_at":"2026-02-01T11:54:37.433580511Z","closed_at":"2026-02-01T11:54:37.433554983Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-ds1","title":"Add SERPENT_SEGMENT collision tag to constants.lua","description":"Add CollisionTags.SERPENT_SEGMENT = 'serpent_segment' to constants.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:51.319194051Z","created_by":"ubuntu","updated_at":"2026-02-01T10:54:50.422066741Z","closed_at":"2026-02-01T10:54:50.422035413Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"],"comments":[{"id":11,"issue_id":"bd-ds1","author":"Joshua Shin","text":"Progress: added CollisionTags.SERPENT_SEGMENT to assets/scripts/core/constants.lua. Verification: lua -e 'require(core.constants)' (pass). ubs . run with UBS_MAX_DIR_SIZE_MB=5000; exit 1 with existing repo-wide findings.","created_at":"2026-02-01T10:54:47Z"}]}
{"id":"bd-dxx","title":"Add Serpent button to main menu","description":"Add MainMenuButtons.setButtons entry for Serpent mode with localized label and changeGameState callback","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.706318902Z","created_by":"ubuntu","updated_at":"2026-02-01T10:30:34.340014897Z","closed_at":"2026-02-01T10:30:34.339975835Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-1","ui"]}
{"id":"bd-e5l","title":"Define boss enemies (swarm_queen, lich_king)","description":"Boss definitions with boss=true tag, exact wave ranges (10-10, 20-20)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:22.638144687Z","created_by":"ubuntu","updated_at":"2026-02-01T11:33:27.260382912Z","closed_at":"2026-02-01T11:33:27.260342407Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-5"]}
{"id":"bd-f4d","title":"Implement Mage synergy bonuses","description":"2: +20% spell damage to Mages, 4: +40% spell damage, cooldown_period_mult=0.8 for Mages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:27.958051059Z","created_by":"ubuntu","updated_at":"2026-02-01T11:13:55.042256100Z","closed_at":"2026-02-01T11:13:55.042126529Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","synergy","task-8"]}
{"id":"bd-fz8","title":"Create wave_config.lua module","description":"Create assets/scripts/serpent/wave_config.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:33.615220041Z","created_by":"ubuntu","updated_at":"2026-02-01T11:46:00.407485864Z","closed_at":"2026-02-01T11:46:00.407450759Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-10","wave"]}
{"id":"bd-g44","title":"Create test_combat_logic.lua tests","description":"Test class multipliers, global regen, contact cooldown, deaths, berserker stacks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:46.261920906Z","created_by":"ubuntu","updated_at":"2026-02-01T14:00:23.361869291Z","closed_at":"2026-02-01T14:00:00.933169368Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-13","test"],"comments":[{"id":26,"issue_id":"bd-g44","author":"Joshua Shin","text":"Progress: added test_combat_logic.lua covering class multipliers, global regen, contact cooldown, deaths, berserker stacks. Tests: lua assets/scripts/serpent/tests/test_combat_logic.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T13:59:56Z"},{"id":27,"issue_id":"bd-g44","author":"Joshua Shin","text":"No changes needed: assets/scripts/serpent/tests/test_combat_logic.lua already covers class multipliers, global regen, contact cooldowns, deaths, and berserker stacks.","created_at":"2026-02-01T14:00:23Z"}]}
{"id":"bd-gcd","title":"Implement arena boundary clamping","description":"Clamp head position to arena bounds via physics.SetPosition","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:59.570080118Z","created_by":"ubuntu","updated_at":"2026-02-01T14:11:41.569577144Z","closed_at":"2026-02-01T14:11:41.569546888Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"],"comments":[{"id":34,"issue_id":"bd-gcd","author":"Joshua Shin","text":"Progress: added test_arena_clamping.lua verifying snake_controller clamps head position to arena bounds. Tests: lua assets/scripts/serpent/tests/test_arena_clamping.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T14:11:37Z"}]}
{"id":"bd-ha7","title":"Implement RNG.new(seed) constructor","description":"RNG.new(seed) creates seeded generator, stores seed for HUD display","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:20.329181930Z","created_by":"ubuntu","updated_at":"2026-02-01T10:34:39.811585594Z","closed_at":"2026-02-01T10:34:39.811543817Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["rng","serpent","task-3"],"comments":[{"id":6,"issue_id":"bd-ha7","author":"Joshua Shin","text":"Progress: implemented RNG.new in assets/scripts/serpent/rng.lua with seed storage and updated reseed; added tests assets/scripts/tests/test_serpent_rng.lua. Tests: lua assets/scripts/tests/test_serpent_rng.lua (pass). Lint: luacheck not installed. ubs . exit 1 with existing repo-wide findings.","created_at":"2026-02-01T10:34:36Z"}]}
{"id":"bd-ixm","title":"Implement tick function for heals","description":"tick(dt, ctx, rng) returns heal events with deterministic ordering","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:29.610276989Z","created_by":"ubuntu","updated_at":"2026-02-01T10:45:30.970265077Z","closed_at":"2026-02-01T10:45:30.970226825Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-jtu","title":"Create specials_system.lua module","description":"Create assets/scripts/serpent/specials_system.lua","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:28.974313394Z","created_by":"ubuntu","updated_at":"2026-02-01T11:42:27.301101289Z","closed_at":"2026-02-01T11:42:27.301070633Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","specials","task-9"]}
{"id":"bd-jut","title":"Acceptance","description":"- [ ] Criterion 1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-01T10:13:44.715742112Z","updated_at":"2026-02-01T10:13:54.938108963Z","source_repo":".","deleted_at":"2026-02-01T10:13:54.938098954Z","deleted_by":"ubuntu","delete_reason":"delete","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-mkh","title":"Create test_serpent_wave_director.lua tests","description":"Test spawn counts, determinism, boss behaviors, pending_count accuracy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:50.982160156Z","created_by":"ubuntu","updated_at":"2026-02-01T14:06:02.067762307Z","closed_at":"2026-02-01T14:06:02.067715639Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-14","test"],"comments":[{"id":31,"issue_id":"bd-mkh","author":"Joshua Shin","text":"Progress: added test_serpent_wave_director.lua covering spawn counts, determinism, boss injection, and pending_count semantics. Tests: lua assets/scripts/serpent/tests/test_serpent_wave_director.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T14:05:57Z"}]}
{"id":"bd-of5","title":"Add Serpent localization keys to en_us.json","description":"Add keys: ui.start_serpent_button, ui.serpent_ready, ui.serpent_reroll, ui.serpent_victory_title, ui.serpent_game_over_title, ui.serpent_retry, ui.serpent_main_menu","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:20.092568740Z","created_by":"ubuntu","updated_at":"2026-02-01T13:09:50.909082276Z","closed_at":"2026-02-01T13:09:50.909055556Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["localization","serpent","task-2"]}
{"id":"bd-pfg","title":"Implement entity despawn and contact unregister","description":"Despawn entities on death, unregister from contact_collector","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:15.754925488Z","created_by":"ubuntu","updated_at":"2026-02-01T11:25:13.678590373Z","closed_at":"2026-02-01T11:25:13.678556961Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-17"]}
{"id":"bd-ps9","title":"Implement attack modifier phase","description":"Apply on-attack specials (sniper_crit), emit DamageEventEnemy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:44.070098269Z","created_by":"ubuntu","updated_at":"2026-02-01T11:22:06.706083467Z","closed_at":"2026-02-01T11:22:06.706027401Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["combat","serpent","task-13"]}
{"id":"bd-pyyk","title":"Manual verification: Snake movement and boundaries","description":"Verify snake spawns correctly, movement stable, head stays in arena","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:43.912748193Z","created_by":"ubuntu","updated_at":"2026-02-01T11:28:48.665331087Z","closed_at":"2026-02-01T11:28:48.665300881Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-q39","title":"Implement segment entity mapping","description":"Maintain instance_id -> entity_id mapping, register with contact_collector","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:56.453964332Z","created_by":"ubuntu","updated_at":"2026-02-01T14:10:04.624518164Z","closed_at":"2026-02-01T14:10:04.624492035Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["runtime","serpent","task-16"],"comments":[{"id":33,"issue_id":"bd-q39","author":"Joshua Shin","text":"Progress: added test_snake_entity_adapter_mapping.lua verifying instance_id<->entity_id mapping and contact_collector registration. Tests: lua assets/scripts/serpent/tests/test_snake_entity_adapter_mapping.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T14:09:56Z"}]}
{"id":"bd-s65a","title":"Create test_synergy_ui.lua tests","description":"Test synergy view-model formatting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:29.245679118Z","created_by":"ubuntu","updated_at":"2026-02-04T01:21:26.318443684Z","closed_at":"2026-02-04T01:21:26.318393481Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","test"]}
{"id":"bd-sdn","title":"Create data/enemies.lua with 11 enemy definitions","description":"Define all 11 enemies with id, base_hp, base_damage, speed, boss flag, min_wave, max_wave","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:21.963316008Z","created_by":"ubuntu","updated_at":"2026-02-01T11:34:02.168363304Z","closed_at":"2026-02-01T11:34:02.168329170Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-5"],"comments":[{"id":15,"issue_id":"bd-sdn","author":"Joshua Shin","text":"Checked assets/scripts/serpent/data/enemies.lua: already contains 11 enemy definitions. Verified by running serpent enemy tests with LUA_PATH set to include assets/scripts; Passed 93, Failed 0. No code changes needed.","created_at":"2026-02-01T11:33:58Z"}]}
{"id":"bd-tcv","title":"Require serpent_main once in main.lua","description":"Add idempotent require at top of main.lua: local Serpent = require('serpent.serpent_main')","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.774753206Z","created_by":"ubuntu","updated_at":"2026-02-01T10:27:36.194550766Z","closed_at":"2026-02-01T10:27:36.194509318Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"]}
{"id":"bd-tld","title":"Wire changeGameState to support SERPENT mode","description":"Update changeGameState() to call Serpent.init() on enter and Serpent.cleanup() on exit","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.584469906Z","created_by":"ubuntu","updated_at":"2026-02-01T11:04:31.714914131Z","closed_at":"2026-02-01T11:04:31.714873906Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"],"comments":[{"id":1,"issue_id":"bd-tld","author":"Joshua Shin","text":"Blocked: assets/scripts/core/main.lua reserved exclusively by SilentHeron. Contacted via Agent Mail to coordinate release.","created_at":"2026-02-01T10:22:35Z"},{"id":3,"issue_id":"bd-tld","author":"Joshua Shin","text":"Progress: updated assets/scripts/core/main.lua changeGameState to load Serpent via require and guard init/cleanup on enter/exit. Verification attempted: just build-debug and just test failed due to missing X11 libs; ubs . reports existing repo findings (exit 1).","created_at":"2026-02-01T10:28:36Z"}]}
{"id":"bd-wl7","title":"Implement create_initial function","description":"create_initial(unit_defs, min_len, max_len, id_state) returns SnakeState with soldier, apprentice, scout","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:23.866298013Z","created_by":"ubuntu","updated_at":"2026-02-01T10:40:37.208493652Z","closed_at":"2026-02-01T10:40:37.208414806Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["logic","serpent","task-6"]}
{"id":"bd-wr6x","title":"Manual verification: Boss wave 10 (swarm_queen)","description":"Verify swarm_queen appears on wave 10, spawns slimes every 10s","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-01T10:18:50.547134423Z","created_by":"ubuntu","updated_at":"2026-02-01T13:22:51.079660407Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["manual-test","serpent","verification"]}
{"id":"bd-wtf","title":"Implement enemy entity registration","description":"register_enemy_entity(enemy_id, entity_id), unregister with overlap cleanup","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:52.960784333Z","created_by":"ubuntu","updated_at":"2026-02-01T12:13:39.044954889Z","closed_at":"2026-02-01T12:13:39.044743684Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"]}
{"id":"bd-x52","title":"Define basic enemies (slime, bat, goblin)","description":"Early game enemies with correct stats and wave ranges","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:22.137844203Z","created_by":"ubuntu","updated_at":"2026-02-01T13:14:07.038302540Z","closed_at":"2026-02-01T13:14:07.038182337Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["data","serpent","task-5"]}
{"id":"bd-xoi","title":"Implement clear function","description":"clear() wipes all overlap state, called on disable/cleanup","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:54.546100236Z","created_by":"ubuntu","updated_at":"2026-02-01T14:08:31.986162544Z","closed_at":"2026-02-01T14:08:31.986131546Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["physics","serpent","task-15"],"comments":[{"id":32,"issue_id":"bd-xoi","author":"Joshua Shin","text":"Progress: added contact_collector.clear to wipe overlaps/cooldowns and test_contact_collector_clear.lua. Tests: lua assets/scripts/serpent/tests/test_contact_collector_clear.lua. UBS: ubs assets/scripts/serpent.","created_at":"2026-02-01T14:08:28Z"}]}
{"id":"bd-y84","title":"Create test_auto_attack_logic.lua tests","description":"Test multi-attack, nearest selection, tie-break, out-of-range, stable ordering","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:40.095794568Z","created_by":"ubuntu","updated_at":"2026-02-01T11:19:04.907741341Z","closed_at":"2026-02-01T11:19:04.907710944Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-12","test"]}
{"id":"bd-ysu","title":"Add GAMESTATE.SERPENT=2 to main.lua","description":"Extend GAMESTATE in assets/scripts/core/main.lua to include SERPENT = 2","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:17:19.525117302Z","created_by":"ubuntu","updated_at":"2026-02-01T10:25:27.349340006Z","closed_at":"2026-02-01T10:23:18.444257867Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","serpent","task-1"],"comments":[{"id":2,"issue_id":"bd-ysu","author":"Joshua Shin","text":"BLOCKED: Verification failed. Build (just build-debug-fast) and tests (just test) error: missing X11 (X11_X11_INCLUDE_PATH/X11_X11_LIB). UBS exit 1 with existing repo warnings. No code change needed: GAMESTATE.SERPENT already present in assets/scripts/core/main.lua.","created_at":"2026-02-01T10:25:27Z"}]}
{"id":"bd-z1c","title":"Implement damage scaling formula","description":"damage = floor(enemy_def.base_damage * (1 + wave * 0.05) + 0.00001)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:17:23.292558110Z","created_by":"ubuntu","updated_at":"2026-02-01T11:10:36.324018573Z","closed_at":"2026-02-01T11:10:36.323986063Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["factory","serpent","task-5"]}
{"id":"bd-zvj","title":"Implement shop UI interactions","description":"Buy/reroll/sell/ready callbacks drive pure shop operations","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-01T10:18:21.863941537Z","created_by":"ubuntu","updated_at":"2026-02-01T12:41:39.313252746Z","closed_at":"2026-02-01T12:41:39.313213974Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["serpent","task-18","ui"]}
